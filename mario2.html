<!DOCTYPE HTML>	
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">

	<title>Mario</title>
	<script type="text/javascript" charset="utf-8">
	window.onload = function(){
		function Mario(){
			var canvas = document.getElementById('Mario');
			canvas.setAttribute('style','background-color:green');
			var ctx = canvas.getContext('2d');
			var pWidth = 5;
			var red = "255,0,0,1";
			var brown = "130,90,0,1";
			var tan = "255,160,0,1";
			var empty = "0,0,0,0";
			function draw(xStart,pix,y,color){
				xStart = xStart * pWidth;
				xEnd = xStart + (pix * pWidth);
				y = y * pWidth
				for (i=xStart;i<xEnd;i+=pWidth){
					ctx.fillStyle = "rgba("+color+")";
					ctx.fillRect(i,y,pWidth,pWidth);
				}
			}
			function clear(xC,yC){
				xC = xC * pWidth;
				yC = yC * pWidth;
				ctx.clearRect(xC,yC,pWidth,pWidth);

			}
			var sp = [[4,5,0,red],
				[3,9,1,red],
				[3,3,2,brown],[6,2,2,tan],[8,1,2,brown],[9,1,2,tan],
				[2,1,3,brown],[3,1,3,tan],[4,1,3,brown],[5,3,3,tan],[8,1,3,brown],[9,3,3,tan],
				[2,1,4,brown],[3,1,4,tan],[4,2,4,brown],[6,3,4,tan],[9,1,4,brown],[10,3,4,tan],
				[2,2,5,brown],[4,4,5,tan],[8,4,5,brown],
				[4,7,6,tan],
				[3,2,7,brown],[5,1,7,red],[6,3,7,brown],
				[2,3,8,brown],[5,1,8,red],[6,2,8,brown],[8,1,8,red],[9,3,8,brown],
				[1,4,9,brown],[5,4,9,red],[9,4,9,brown],
				[1,2,10,tan],[3,1,10,brown],[4,1,10,red],[5,1,10,tan],[6,2,10,red],[8,1,10,tan],[9,1,10,red],[10,1,10,brown],[11,2,10,tan],
				[1,3,11,tan],[4,6,11,red],[10,3,11,tan],
				[1,2,12,tan],[3,8,12,red],[11,2,12,tan],
				[3,3,13,red],[6,2,13,empty],[8,3,13,red],
				[2,3,14,brown],[5,4,14,empty],[9,3,14,brown],
				[1,4,15,brown],[5,4,15,empty],[9,4,15,brown]];
			canvas.height = 320;//(sp[sp.length-1][2]+1) * pWidth;
			canvas.width = 770;
			function go(speed){
				for(x=0;x<sp.length;x++){
					draw(sp[x][0] + speed,sp[x][1],sp[x][2],sp[x][3]);	
					//console.log(sp[x]);
				}
			}
			function nMario(xPos,yPos){
				for(x=0;x<sp.length;x++){
					draw(sp[x][0] + xPos,sp[x][1],sp[x][2] + yPos,sp[x][3]);
				}	
			}
			
			/*nMario(0,0);
			nMario(13,0);
			nMario(0,106);
			nMario(13,16);
			*/
			//nMario(26,32);	
			var outp = document.createElement('p');
			document.body.appendChild(outp);
			var xspeed = 0;
			var limit = false;
			var inId = setInterval(function(){
					//ctx.clearRect(xspeed*pWidth,4*pWidth,12*pWidth,16*pWidth);
					ctx.clearRect(0,0,canvas.width,canvas.height);
					//go(xspeed);
					nMario(xspeed,0);
					nMario(xspeed+13,16);
					nMario(xspeed+26,32);
					if(!limit){
					  xspeed++;
					}else{
					  xspeed--;
					}
					if(xspeed >= 100)limit = true;
					if(xspeed <=0)limit = false;
					//clear(5,0);
					//setTimeout(function(){nMario(0,0)},1000);
					outp.innerHTML = xspeed;
					},33);
			
			/*//row 1
			draw(4,5,0,red);
			//
			// row 2
			draw(3,9,1,red);
			//
			//row 3
			draw(3,3,2,brown);
			draw(6,2,2,tan);
			draw(8,1,2,brown);
			draw(9,1,2,tan);
			//
			//row 4
			draw(2,1,3,brown);
			draw(3,1,3,tan);
			draw(4,1,3,brown);
			draw(5,3,3,tan);
			draw(8,1,3,brown);
			draw(9,3,3,tan);
			//
			//row 5
		*/	
			
		}
		Mario();
	}
	</script>	
</head>
<body ">
	<canvas id="Mario"></canvas>	
</htm>
